//TODO : Add pascifist option to make all enemies not aggressive

const TABLE_SPAWNER_START = 0x19804;
const TABLE_SPAWNER_END = 0x19A02;
const TABLE_SPAWNER_ENTRIES = 256;

function randomizeEnemySpawners(rom, random, monsterFlag, wildFlag, animalFlag, peopleFlag, addEnemiesFlag)
{
    console.log("RANDOMIZING SPAWNERS");
    for(var i = 0; i < TABLE_SPAWNER_ENTRIES; ++i )
    {
        var entryID = i*2;
        var spawned = false;

        if(monsterFlag == true) //randomizer monsters
        {
            var foundSpawner = getRandomMonster(rom, random, entryID);
            if(foundSpawner > 0)
            {
                rom[TABLE_SPAWNER_START+entryID+1] = foundSpawner;
                spawned = true;
            }
        }

        if(wildFlag == true) //randomizer wild animals
        {
            var foundSpawner = getRandomWild(rom, random, entryID, addEnemiesFlag);
            if(foundSpawner > 0)
            {
                rom[TABLE_SPAWNER_START+entryID+1] = foundSpawner;
                spawned = true;
            }
        }
        
        if(animalFlag == true && spawned == false) //randomizer animals
        {
            var foundSpawner = getRandomAnimal(rom, random, entryID);
            if(foundSpawner > 0)
            {
                rom[TABLE_SPAWNER_START+entryID+1] = foundSpawner;
                spawned = true;
            }
        }
        
        if(peopleFlag == true && spawned == false) //randomizer people
        {
            var foundSpawner = getRandomPerson(rom, random, entryID);
            if(foundSpawner > 0)
            {
                rom[TABLE_SPAWNER_START+entryID+1] = foundSpawner;
                spawned = true;
            }
        }
    }
}

function randomizeEnemySpawnersMix(rom, random, monsterFlag, wildFlag, animalFlag, peopleFlag, addEnemiesFlag)
{
    console.log("RANDOMIZING SPAWNERS MIXED");
    var spawnersSolo = getMixedSpawnerListSolo(random, monsterFlag, wildFlag, animalFlag, peopleFlag, addEnemiesFlag);
    var spawnersGroup = getMixedSpawnerListGroup(random, monsterFlag, wildFlag, animalFlag, peopleFlag, addEnemiesFlag);

    for(var i = 0; i < TABLE_SPAWNER_ENTRIES; ++i )
    {
        var entryID = i*2;

        //check for early out
        var earlyOut = checkMixEarlyOut(rom, random, entryID, monsterFlag, animalFlag);

        //get a mixed spawn
        if(earlyOut == false)
        {
            var foundSpawner = getMixedSpawner(rom, random, entryID, spawnersSolo, spawnersGroup); //check to see if the spawner we want to randomize is in the spawner list
            if(foundSpawner > 0)
            {
                rom[TABLE_SPAWNER_START+entryID+1] = foundSpawner;
            }
        }
    }
}

function getRandomMonster(rom, random, entryID)
{
    for( j = 0; j < DATA_SPAWNER_EVIL_SOLO.length; ++j)
    {
        if(rom[TABLE_SPAWNER_START+entryID+1] == DATA_SPAWNER_EVIL_SOLO[j])
        {
            return getRandomSpawnerFromList(random, DATA_SPAWNER_EVIL_SOLO);
        }
    }
    for( j = 0; j < DATA_SPAWNER_EVIL_GROUP.length; ++j)
    {
        if(rom[TABLE_SPAWNER_START+entryID+1] == DATA_SPAWNER_EVIL_GROUP[j])
        {
            return getRandomSpawnerFromList(random, DATA_SPAWNER_EVIL_GROUP);
        }
    }
    for( j = 0; j < DATA_SPAWNER_SEA_SOLO.length; ++j)
    {
        if(rom[TABLE_SPAWNER_START+entryID+1] == DATA_SPAWNER_SEA_SOLO[j])
        {
            return getRandomSpawnerFromList(random, DATA_SPAWNER_SEA_SOLO);
        }
    }
    for( j = 0; j < DATA_SPAWNER_SEA_GROUP.length; ++j)
    {
        if(rom[TABLE_SPAWNER_START+entryID+1] == DATA_SPAWNER_SEA_GROUP[j])
        {
            return getRandomSpawnerFromList(random, DATA_SPAWNER_SEA_GROUP);
        }
    }
    return 0x00; //failed to find a spawner
}

function getRandomWild(rom, random, entryID, addEnemiesFlag)
{
    if(addEnemiesFlag == true)
    {
        for( j = 0; j < DATA_SPAWNER_WILD_SOLO_ADDITIONAL.length; ++j)
        {
            if(rom[TABLE_SPAWNER_START+entryID+1] == DATA_SPAWNER_WILD_SOLO_ADDITIONAL[j])
            {
                return getRandomSpawnerFromList(random, DATA_SPAWNER_WILD_SOLO_ADDITIONAL);
            }
        }
        for( j = 0; j < DATA_SPAWNER_WILD_GROUP_ADDITIONAL.length; ++j)
        {
            if(rom[TABLE_SPAWNER_START+entryID+1] == DATA_SPAWNER_WILD_GROUP_ADDITIONAL[j])
            {
                return getRandomSpawnerFromList(random, DATA_SPAWNER_WILD_GROUP_ADDITIONAL);
            }
        }
    }
    else
    {
        for( j = 0; j < DATA_SPAWNER_WILD_SOLO.length; ++j)
        {
            if(rom[TABLE_SPAWNER_START+entryID+1] == DATA_SPAWNER_WILD_SOLO[j])
            {
                return getRandomSpawnerFromList(random, DATA_SPAWNER_WILD_SOLO);
            }
        }
        for( j = 0; j < DATA_SPAWNER_WILD_GROUP.length; ++j)
        {
            if(rom[TABLE_SPAWNER_START+entryID+1] == DATA_SPAWNER_WILD_GROUP[j])
            {
                return getRandomSpawnerFromList(random, DATA_SPAWNER_WILD_GROUP);
            }
        }
    }
    return 0x00; //failed to find a spawner
}

function getRandomAnimal(rom, random, entryID)
{
    for( j = 0; j < DATA_SPAWNER_ANIMAL_SOLO.length; ++j)
    {
        if(rom[TABLE_SPAWNER_START+entryID+1] == DATA_SPAWNER_ANIMAL_SOLO[j])
        {
            return getRandomSpawnerFromList(random, DATA_SPAWNER_ANIMAL_SOLO);
        }
    }
    for( j = 0; j < DATA_SPAWNER_ANIMAL_GROUP.length; ++j)
    {
        if(rom[TABLE_SPAWNER_START+entryID+1] == DATA_SPAWNER_ANIMAL_GROUP[j])
        {
            return getRandomSpawnerFromList(random, DATA_SPAWNER_ANIMAL_GROUP);
        }
    }
    for( j = 0; j < DATA_SPAWNER_REAGENT.length; ++j)
    {
        if(rom[TABLE_SPAWNER_START+entryID+1] == DATA_SPAWNER_REAGENT[j])
        {
            return getRandomSpawnerFromList(random, DATA_SPAWNER_REAGENT);
        }
    }
    return 0x00; //failed to find a spawner
}

function getRandomPerson(rom, random, entryID)
{
    for( j = 0; j < DATA_SPAWNER_PEOPLE_SOLO.length; ++j)
    {
        if(rom[TABLE_SPAWNER_START+entryID+1] == DATA_SPAWNER_PEOPLE_SOLO[j])
        {
            return getRandomSpawnerFromList(random, DATA_SPAWNER_PEOPLE_SOLO);
        }
    }
    for( j = 0; j < DATA_SPAWNER_PEOPLE_GROUP.length; ++j)
    {
        if(rom[TABLE_SPAWNER_START+entryID+1] == DATA_SPAWNER_PEOPLE_GROUP[j])
        {
            return getRandomSpawnerFromList(random, DATA_SPAWNER_PEOPLE_GROUP);
        }
    }
    return 0x00; //failed to find a spawner
}

function getMixedSpawnerListSolo(random, monsterFlag, wildFlag, animalFlag, peopleFlag, addEnemiesFlag)
{
    var spawnersSolo = [];

    if(monsterFlag == true) //randomizer monsters
    {
        spawnersSolo = addSpawnerDataToSpawnerDataPool(spawnersSolo, DATA_SPAWNER_EVIL_SOLO);
    }

    if(wildFlag == true) //randomizer wild
    {
        if(addEnemiesFlag == true)
        {
            spawnersSolo = addSpawnerDataToSpawnerDataPool(spawnersSolo, DATA_SPAWNER_WILD_SOLO_ADDITIONAL);
        }
        else
        {
            spawnersSolo = addSpawnerDataToSpawnerDataPool(spawnersSolo, DATA_SPAWNER_WILD_SOLO);
        }
    }
    
    if(animalFlag == true) //randomizer animals
    {
        spawnersSolo = addSpawnerDataToSpawnerDataPool(spawnersSolo, DATA_SPAWNER_ANIMAL_SOLO);
    }

    if(peopleFlag == true) //randomizer people
    {
        spawnersSolo = addSpawnerDataToSpawnerDataPool(spawnersSolo, DATA_SPAWNER_PEOPLE_SOLO);
    }

    spawnersSolo.shuffle(random);

    return spawnersSolo;
}

function getMixedSpawnerListGroup(random, monsterFlag, wildFlag, animalFlag, peopleFlag, addEnemiesFlag)
{
    var spawnersGroup = [];

    if(monsterFlag == true) //randomizer monsters
    {
        spawnersGroup = addSpawnerDataToSpawnerDataPool(spawnersGroup, DATA_SPAWNER_EVIL_GROUP);
    }

    if(wildFlag == true) //randomizer wild
    {
        if(addEnemiesFlag == true)
        {
            spawnersGroup = addSpawnerDataToSpawnerDataPool(spawnersGroup, DATA_SPAWNER_WILD_GROUP_ADDITIONAL);
        }
        else
        {
            spawnersGroup = addSpawnerDataToSpawnerDataPool(spawnersGroup, DATA_SPAWNER_WILD_GROUP);
        }
    }
    
    if(animalFlag == true) //randomizer animals
    {
        spawnersGroup = addSpawnerDataToSpawnerDataPool(spawnersGroup, DATA_SPAWNER_ANIMAL_GROUP);
    }

    if(peopleFlag == true) //randomizer people
    {
        spawnersGroup = addSpawnerDataToSpawnerDataPool(spawnersGroup, DATA_SPAWNER_PEOPLE_GROUP);
    }

    spawnersGroup.shuffle(random);

    return spawnersGroup;
}

function checkMixEarlyOut(rom, random, entryID, monsterFlag, animalFlag)
{
    for( j = 0; j < DATA_SPAWNER_NEVERCHANGE.length; ++j) //check for all spots we should always skip
    {
        if(rom[TABLE_SPAWNER_START+entryID+1] == DATA_SPAWNER_NEVERCHANGE[j])
        {
            return true;
        }
    }
    if(monsterFlag == true) //check for sea creature spawns
    {
        for( j = 0; j < DATA_SPAWNER_SEA_SOLO.length; ++j)
        {
            if(rom[TABLE_SPAWNER_START+entryID+1] == DATA_SPAWNER_SEA_SOLO[j])
            {
                rom[TABLE_SPAWNER_START+entryID+1] = getRandomSpawnerFromList(random, DATA_SPAWNER_SEA_SOLO);
                return true;
            }
        }
        for( j = 0; j < DATA_SPAWNER_SEA_GROUP.length; ++j)
        {
            if(rom[TABLE_SPAWNER_START+entryID+1] == DATA_SPAWNER_SEA_GROUP[j])
            {
                rom[TABLE_SPAWNER_START+entryID+1] = getRandomSpawnerFromList(random, DATA_SPAWNER_SEA_GROUP);
                return true;
            }
        }
    }
    if(animalFlag == true) //check for reagent spawns
    {
        for( j = 0; j < DATA_SPAWNER_REAGENT.length; ++j)
        {
            if(rom[TABLE_SPAWNER_START+entryID+1] == DATA_SPAWNER_REAGENT[j])
            {
                rom[TABLE_SPAWNER_START+entryID+1] = getRandomSpawnerFromList(random, DATA_SPAWNER_REAGENT);
                return true;
            }
        }
    }
    return false;
}

function getMixedSpawner(rom, random, entryID, spawnerPoolSolo, spawnerPoolGroup)
{
    for( j = 0; j < spawnerPoolSolo.length; ++j)
    {
        if(rom[TABLE_SPAWNER_START+entryID+1] == spawnerPoolSolo[j])
        {
            return getRandomSpawnerFromList(random, spawnerPoolSolo);
        }
    }

    for( j = 0; j < spawnerPoolGroup.length; ++j)
    {
        if(rom[TABLE_SPAWNER_START+entryID+1] == spawnerPoolGroup[j])
        {
            return getRandomSpawnerFromList(random, spawnerPoolGroup);
        }
    }
}

function getRandomSpawnerFromList(random, inSpawnData)
{
    var randomSelection = random.nextIntRange(0, inSpawnData.length);
    return inSpawnData[randomSelection];
}

function addSpawnerDataToSpawnerDataPool(inPool, inDataPool)
{
	var outPool = inPool.concat(inDataPool);
	return outPool;
}

function getSpawnerFlags(rom, spawnerFlags)
{
    for(var i = 0; i < TABLE_SPAWNER_ENTRIES; ++i )
    {
        var entryID = i*2;
        spawnerFlags.push(rom[TABLE_SPAWNER_START+entryID]);
    }
    return spawnerFlags;
}

//=================================================================================

//the high bits of a byte determine the aggression setting
// 0 nothing spawns
// 1 AI that does nothing and karma loss
// 2->6 aggressive (unsure what the difference is between these values)
// 7 non-aggressive and no karma loss. will never attack
// 8 aggressive but not mobile and only attacks when next to it
// 9 flee when far away
// A flee when close and non-aggressive and loose karma
// B non-aggressive and loose karma. herd behavior
// C aggressive. herd behavior
// D non-aggressive guard style behavior
// E non-aggressive left and right movement only and loose karma
// F non-aggressive up and down movement only and loose karma

function getAggressionValues(rom, aggressionValues)
{
    for(var i = 0; i < TABLE_SPAWNER_ENTRIES; ++i )
    {
        var entryID = i*2;
        var spawnFlags = rom[TABLE_SPAWNER_START+entryID];
        var flagBits = hexToBits(spawnFlags.toString(16));
        var highBits = flagBits.slice(0,4)
        var highByte = bitsToHex(highBits);

        aggressionValues.push(highByte);
    }
    return aggressionValues;
}

function shuffleEnemyAggression(rom, random)
{
    console.log("SHUFFLING ENEMY AGGRESSION");
    var aggressionValues = [];
    aggressionValues = getAggressionValues(rom, aggressionValues);
    aggressionValues.shuffle(random);

    for(var i = 0; i < TABLE_SPAWNER_ENTRIES; ++i )
    {
        var entryID = i*2;

        var earlyOut = checkAggressionEarlyOut(rom, entryID);

        if(earlyOut == false)
        {
            var spawnFlags = rom[TABLE_SPAWNER_START+entryID];

            if(spawnFlags == 0)
            {
                i += 1;
            }
            else if(spawnFlags == 1)
            {
                spawnFlags = 0x0B;
            }

            var flagBits = hexToBits(spawnFlags.toString(16));
            var lowBits = flagBits.slice(4,8)
            var lowByte = bitsToHex(lowBits);

            spawnFlags = aggressionValues[i] + lowByte;
            rom[TABLE_SPAWNER_START+entryID] = "0x"+spawnFlags;
        }
    }
}

function checkAggressionEarlyOut(rom, entryID)
{
    for( j = 0; j < DATA_SPAWNER_NEVERCHANGE.length; ++j) //check for all spots we should always skip
    {
        if(rom[TABLE_SPAWNER_START+entryID+1] == DATA_SPAWNER_NEVERCHANGE[j])
        {
            return true;
        }
    }
    for( j = 0; j < DATA_SPAWNER_REAGENT.length; ++j)
    {
        if(rom[TABLE_SPAWNER_START+entryID+1] == DATA_SPAWNER_REAGENT[j])
        {
            return true;
        }
    }

    return false;
}

function setAggressionToEvil(rom, random, entryID)
{
    //check for early out (avoid changing aggression on things like reagent spawns)
    var earlyOut = checkAggressionEarlyOut(rom, entryID);

    if(earlyOut == false)
    {
        var spawnerFlag = rom[TABLE_SPAWNER_START+entryID];

        var newFlags = spawnerFlag;

        //special case for the 2 cases where flags are 01
        if(newFlags == 0x01)
        {
            newFlags = 0xC1;
        }

        var flagBits = hexToBits(newFlags.toString(16));

        var highBits = flagBits.slice(0,4)
        var lowBits = flagBits.slice(4,8)
        var highByte = bitsToHex(highBits);
        var lowByte = bitsToHex(lowBits);
        
        //console.log(entryID + " has flags " + newFlags + " with high byte " + highByte + " at address " + (TABLE_SPAWNER_START+entryID).toHex(3));

        if(highByte == "d" || highByte == "e" || highByte == "f" || highByte == "9")
        {
            highByte = random.from(["2","3","4","5","6"]);
        }
        else if(highByte == "b" || highByte == "a")
        {
            highByte = "c";
        }

        newFlags = highByte + lowByte;
        rom[TABLE_SPAWNER_START+entryID] = "0x"+newFlags;
    }
}

function setAggressionToWild(rom, random, entryID)
{
    //check for early out (avoid changing aggression on things like reagent spawns)
    var earlyOut = checkAggressionEarlyOut(rom, entryID);

    if(earlyOut == false)
    {
        var spawnerFlag = rom[TABLE_SPAWNER_START+entryID];

        var newFlags = spawnerFlag;

        //special case for the 2 cases where flags are 01
        if(newFlags == 0x01)
        {
            newFlags = 0xC1;
        }

        var flagBits = hexToBits(newFlags.toString(16));

        var highBits = flagBits.slice(0,4)
        var lowBits = flagBits.slice(4,8)
        var highByte = bitsToHex(highBits);
        var lowByte = bitsToHex(lowBits);
        
        //console.log(entryID + " has flags " + newFlags + " with high byte " + highByte + " at address " + (TABLE_SPAWNER_START+entryID).toHex(3));

        highByte = random.from(["6","a","c","b","d"]);

        newFlags = highByte + lowByte;
        rom[TABLE_SPAWNER_START+entryID] = "0x"+newFlags;
    }
}

function setAggressionToFriendly(rom, random, entryID)
{
    //check for early out (avoid changing aggression on things like reagent spawns)
    var earlyOut = checkAggressionEarlyOut(rom, entryID);

    if(earlyOut == false)
    {
        var spawnerFlag = rom[TABLE_SPAWNER_START+entryID];

        var newFlags = spawnerFlag;

        //special case for the 2 cases where flags are 01
        if(newFlags == 0x01)
        {
            newFlags = 0xB1;
        }

        var flagBits = hexToBits(newFlags.toString(16));

        var highBits = flagBits.slice(0,4)
        var lowBits = flagBits.slice(4,8)
        var highByte = bitsToHex(highBits);
        var lowByte = bitsToHex(lowBits);
        
        //console.log(entryID + " has flags " + newFlags + " with high byte " + highByte + " at address " + (TABLE_SPAWNER_START+entryID).toHex(3));

        if(highByte == "2" || highByte == "3" || highByte == "4" || highByte == "5" || highByte == "6" || highByte == "8")
        {
            highByte = random.from(["d","a"]);
        }
        else if(highByte == "c")
        {
            highByte = random.from(["b","9"]);
        }

        newFlags = highByte + lowByte;
        rom[TABLE_SPAWNER_START+entryID] = "0x"+newFlags;
    }
}

function passiveEnemyAggression(rom, random)
{
    console.log("SETTING PASSIVE ENEMY AGGRESSION");

    for(var i = 0; i < TABLE_SPAWNER_ENTRIES; ++i )
    {
        var entryID = i*2;
        setAggressionToFriendly(rom, random, entryID);
    }
}

function intuitiveEnemyAggression(rom, random)
{
    console.log("SETTING INTUITIVE ENEMY AGGRESSION");

    for(var i = 0; i < TABLE_SPAWNER_ENTRIES; ++i )
    {
        var entryID = i*2;
        
        if( checkIfEvil(rom, entryID) )
        {
            setAggressionToEvil(rom, random, entryID);
        }
        else if( checkIfWild(rom, entryID) )
        {
            setAggressionToWild(rom, random, entryID);
        }
        else if( checkIfFriendly(rom, entryID) )
        {
            setAggressionToFriendly(rom, random, entryID);
        }
    }
}

function checkIfEvil(rom, entryID)
{
    for( j = 0; j < DATA_SPAWNER_EVIL_SOLO.length; ++j)
    {
        if(rom[TABLE_SPAWNER_START+entryID+1] == DATA_SPAWNER_EVIL_SOLO[j])
        {
            return true;
        }
    }
    for( j = 0; j < DATA_SPAWNER_EVIL_GROUP.length; ++j)
    {
        if(rom[TABLE_SPAWNER_START+entryID+1] == DATA_SPAWNER_EVIL_GROUP[j])
        {
            return true;
        }
    }
    for( j = 0; j < DATA_SPAWNER_SEA_SOLO.length; ++j)
    {
        if(rom[TABLE_SPAWNER_START+entryID+1] == DATA_SPAWNER_SEA_SOLO[j])
        {
            return true;
        }
    }
    for( j = 0; j < DATA_SPAWNER_SEA_GROUP.length; ++j)
    {
        if(rom[TABLE_SPAWNER_START+entryID+1] == DATA_SPAWNER_SEA_GROUP[j])
        {
            return true;
        }
    }
    for( j = 0; j < DATA_SPAWNER_PEOPLE_SOLO_NOGUARDS.length; ++j)
    {
        if(rom[TABLE_SPAWNER_START+entryID+1] == DATA_SPAWNER_PEOPLE_SOLO_NOGUARDS[j])
        {
            return true;
        }
    }
    for( j = 0; j < DATA_SPAWNER_PEOPLE_GROUP_NOGUARDS.length; ++j)
    {
        if(rom[TABLE_SPAWNER_START+entryID+1] == DATA_SPAWNER_PEOPLE_GROUP_NOGUARDS[j])
        {
            return true;
        }
    }
    return false;
}

function checkIfWild(rom, entryID)
{
    for( j = 0; j < DATA_SPAWNER_WILD_SOLO_ADDITIONAL.length; ++j)
    {
        if(rom[TABLE_SPAWNER_START+entryID+1] == DATA_SPAWNER_WILD_SOLO_ADDITIONAL[j])
        {
            return true;
        }
    }
    for( j = 0; j < DATA_SPAWNER_WILD_GROUP_ADDITIONAL.length; ++j)
    {
        if(rom[TABLE_SPAWNER_START+entryID+1] == DATA_SPAWNER_WILD_GROUP_ADDITIONAL[j])
        {
            return true;
        }
    }
    return false;
}

function checkIfFriendly(rom, entryID)
{
    for( j = 0; j < DATA_SPAWNER_ANIMAL_SOLO.length; ++j)
    {
        if(rom[TABLE_SPAWNER_START+entryID+1] == DATA_SPAWNER_ANIMAL_SOLO[j])
        {
            return true;
        }
    }
    for( j = 0; j < DATA_SPAWNER_ANIMAL_GROUP.length; ++j)
    {
        if(rom[TABLE_SPAWNER_START+entryID+1] == DATA_SPAWNER_ANIMAL_GROUP[j])
        {
            return true;
        }
    }
    for( j = 0; j < DATA_SPAWNER_TOWNANDMOONGATE.length; ++j)
    {
        if(rom[TABLE_SPAWNER_START+entryID+1] == DATA_SPAWNER_TOWNANDMOONGATE[j])
        {
            return true;
        }
    }
    return false;
}

//=================================================================================

function shuffleSpawnNumbers(rom, random)
{
    console.log("SHUFFLING SPAWN NUMBERS");

    var spawnNumbers = [];
    spawnNumbers = getSpawnNumbers(rom, spawnNumbers);
    spawnNumbers.shuffle(random);

    for(var i = 0; i < TABLE_SPAWNER_ENTRIES; ++i )
    {
        var entryID = i*2;

        var earlyOut = checkSpawnNumbersEarlyOut(rom, entryID);

        if(earlyOut == false)
        {
            var spawnFlags = rom[TABLE_SPAWNER_START+entryID];

            if(spawnFlags == 0)
            {
                i += 1;
            }
            else if(spawnFlags == 1)
            {
                spawnFlags = 0x0B;
            }

            var flagBits = hexToBits(spawnFlags.toString(16));
            var highBits = flagBits.slice(0,4)
            var highByte = bitsToHex(highBits);

            spawnFlags = highByte + spawnNumbers[i];
            rom[TABLE_SPAWNER_START+entryID] = "0x"+spawnFlags;
        }
    }
}

function getSpawnNumbers(rom, spawnNumbers)
{
    for(var i = 0; i < TABLE_SPAWNER_ENTRIES; ++i )
    {
        var entryID = i*2;
        var spawnFlags = rom[TABLE_SPAWNER_START+entryID];
        var flagBits = hexToBits(spawnFlags.toString(16));
        var lowBits = flagBits.slice(4,8)
        var lowByte = bitsToHex(lowBits);

        spawnNumbers.push(lowByte);
    }
    return spawnNumbers;
}

function checkSpawnNumbersEarlyOut(rom, entryID)
{
    for( j = 0; j < DATA_SPAWNER_NEVERCHANGE.length; ++j) //check for all spots we should always skip
    {
        if(rom[TABLE_SPAWNER_START+entryID+1] == DATA_SPAWNER_NEVERCHANGE[j])
        {
            return true;
        }
    }
    for( j = 0; j < DATA_SPAWNER_REAGENT.length; ++j)
    {
        if(rom[TABLE_SPAWNER_START+entryID+1] == DATA_SPAWNER_REAGENT[j])
        {
            return true;
        }
    }

    return false;
}

function randomSpawnNumbers(rom, random)
{
    console.log("RANDOMIZING SPAWN NUMBERS");

    var spawnNumbers = [];
    spawnNumbers = getSpawnNumbers(rom, spawnNumbers);
    spawnNumbers.shuffle(random);

    for(var i = 0; i < TABLE_SPAWNER_ENTRIES; ++i )
    {
        var entryID = i*2;

        var earlyOut = checkSpawnNumbersEarlyOut(rom, entryID);

        if(earlyOut == false)
        {
            var spawnFlags = rom[TABLE_SPAWNER_START+entryID];

            if(spawnFlags == 0)
            {
                i += 1;
            }
            else if(spawnFlags == 1)
            {
                spawnFlags = 0x0B;
            }

            var flagBits = hexToBits(spawnFlags.toString(16));
            var highBits = flagBits.slice(0,4)
            var highByte = bitsToHex(highBits);
            var lowByte = random.from(["0","1","2","3","4","5","6","7","8"]);
            
            spawnFlags = highByte + lowByte;
            rom[TABLE_SPAWNER_START+entryID] = "0x"+spawnFlags;
        }
    }
}

//=================================================================================

function adjustEnemyStats()
{
    //easy - reduce all stats, armor, and damage (remove strongest spells from enemies)
    //hard - increase all stats, armor, damage, and health (add stronger spells to enemies)
    //percentage tough monsters like U4 has which also give more XP?
    //shuffle all stats / armor / dmg / health values
    //shuffle & randomize spells enemies can cast (between spell casters or all)
    //shuffle & randomize which enemies can cast spells (between spell casters or all)
    //shuffle & randomize drops
    //shuffle & randomize equipment enemies have
}

//=================================================================================

function addNewEnemySpawns(rom, random)
{
    console.log("ADDING NEW ENEMY SPAWNS");
    var serpentSpawners = [];
    var zuSpawners = [];

    for(var i = 0; i < TABLE_SPAWNER_ENTRIES; ++i )
    {
        var entryID = i*2;
        var entryRomData = rom[TABLE_SPAWNER_START+entryID+1];

        if(entryRomData == 0x29)
        {
            //if the entry is a daemon add it to the serpent list
            serpentSpawners.push(entryID);
        }
        else if(entryRomData == 0x17 || entryRomData == 0x97 || entryRomData == 0x1E || entryRomData == 0x9E)
        {
            //if the entry is a reaper or gazer add it to the zuflower list
            zuSpawners.push(entryID);
        }
    }

    serpentSpawners.shuffle(random);
    zuSpawners.shuffle(random);

    var serpentMaxSpawns = serpentSpawners.length / 2; // replace half the spawners with serpents
    var zuMaxSpawns = zuSpawners.length / 3; //replace a third of the spawners with zu flowers

    for(var i = 0; i < serpentMaxSpawns; i++)
    {
        rom[TABLE_SPAWNER_START+serpentSpawners[i]+1] = 0x34;
    }
    for(var i = 0; i < zuMaxSpawns; i++)
    {
        if(zuSpawners[i] == 0x17 || zuSpawners[i] == 0x1E)
        {
            rom[TABLE_SPAWNER_START+zuSpawners[i]+1] = 0x28;
        }
        else
        {
            rom[TABLE_SPAWNER_START+zuSpawners[i]+1] = 0xA8;
        }
    }

}

function addZuFlower(rom)
{
    //reaper graphics
    //rom[0x01675D] = 0x17; //assign new sprite id
    //rom[0x002697] = 0xAF; //assign new anims
    //rom[0x002698] = 0xA9; //assign new anims
    //rom[0x00F181] = 0x01; //assign new palette

    //squid graphics
    rom[0x01675D] = 0x28; //assign new sprite id
    rom[0x002697] = 0xBB; //assign new anims
    rom[0x002698] = 0xAB; //assign new anims
    rom[0x00F181] = 0x02; //assign new palette

    //change stats to PC stats
    rom.set([0xD4, 0x19, 0x01, 0x04, 0x0A, 0x1E],0x7AFB);
    rom.set([0xD4, 0x19, 0x01, 0x04, 0x0A, 0x1E],0x7B6C);
}

function addSilverSerpent(rom)
{
    //move giant ant to make room for silver serpent
    rom.set([0xBF, 0xC4, 0xEF, 0x02, 0x48, 0xC2, 0x20, 0xBF, 0xC2, 0xEF, 0x02],0x4497);
    rom[0x01676C] = 0x39;
    var antByteSize1 = 0x16845-0x1679B;
    for(var i = 0; i < antByteSize1+1; ++i)
    {
        rom[0x16FC2+i] = rom[0x1679B+i];
    }
    rom.set([0x00, 0xF4, 0x1F], 0x1706D);
    var antByteSize2 = 0xFEBFF-0xFE800;
    for(var i = 0; i < antByteSize2+1; ++i)
    {
        rom[0xFF400+i] = rom[0xFE800+i];
    }

    //update animation and render functions and fix palette
    rom.set([0x46, 0xC8],0x045F9);
    rom.set([0xD0, 0xFB],0x026AF);
    rom.set([0xA5, 0x04, 0x38, 0xE9, 0x00, 0x04, 0x85, 0x04, 0x4C, 0x47, 0xB1], 0x07BD0);

    //rearrange the serpent tiles into a dragon pattern as we are now using the dragon rendering code
    rom.set([0x00, 0x00, 0x00, 0x00, 0x0f, 0x00, 0x16, 0x06, 0x29, 0x0f, 0x20, 0x0f, 0x35, 0x0e, 0x30, 0x0b,
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x09, 0x0f, 0x10, 0x19, 0x10, 0x10, 0x00, 0x04, 0x15, 0x04,
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xb0, 0x00, 0x48, 0x00, 0xb4, 0xa0, 0x54, 0xd0, 0xb4, 0x60,
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xb0, 0xb0, 0x78, 0xc8, 0x38, 0x68, 0x98, 0x38,
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0x00, 0x05, 0x01, 0x0a, 0x03, 0x0c, 0x07,
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x03, 0x04, 0x06, 0x00, 0x04,
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xc0, 0x00, 0xa0, 0x80, 0xd0, 0xc0, 0x50, 0xc0,
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x40, 0xc0, 0x20, 0xe0, 0x20, 0x60,
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
             0x0e, 0x03, 0x05, 0x01, 0x05, 0x01, 0x05, 0x01, 0x05, 0x01, 0x05, 0x01, 0x0e, 0x03, 0x0a, 0x03,
             0x04, 0x06, 0x02, 0x03, 0x02, 0x03, 0x02, 0x03, 0x02, 0x03, 0x02, 0x03, 0x04, 0x06, 0x04, 0x06,
             0x50, 0xc0, 0x38, 0xe0, 0x28, 0xe0, 0x28, 0xe0, 0x28, 0xe0, 0x38, 0xe0, 0x50, 0xc0, 0x50, 0xc0,
             0x20, 0x60, 0x10, 0x30, 0x10, 0x30, 0x10, 0x30, 0x10, 0x30, 0x10, 0x30, 0x20, 0x60, 0x20, 0x60,
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1f, 0x00, 0x3c, 0x1c, 0x59, 0x03, 0x65, 0x01,
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0x1f, 0x24, 0x25, 0x02, 0x03,
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0x00, 0xfc, 0x00, 0x87, 0x87, 0x78, 0xff,
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0x07, 0x78, 0xff, 0x00, 0x78,
             0x00, 0x00, 0x00, 0x00, 0x0f, 0x00, 0x11, 0x00, 0xee, 0x0f, 0x11, 0x1f, 0xe0, 0xff, 0x00, 0xff,
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x0e, 0x0e, 0x10, 0x1e, 0xe0, 0xf1, 0x00, 0xe0, 0x00, 0x00,
             0x00, 0x00, 0x00, 0x00, 0xf0, 0x00, 0xc8, 0x00, 0x14, 0xf0, 0x4c, 0x78, 0x0c, 0xf8, 0x54, 0xb0,
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xb0, 0x30, 0x08, 0x18, 0x80, 0xc8, 0x00, 0x08, 0x88, 0x18,
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
             0x34, 0x0f, 0x28, 0x0f, 0x28, 0x0f, 0x28, 0x0f, 0x14, 0x07, 0x0a, 0x03, 0x0a, 0x03, 0x0a, 0x03, 
             0x00, 0x04, 0x10, 0x18, 0x10, 0x18, 0x10, 0x18, 0x08, 0x0c, 0x04, 0x06, 0x04, 0x06, 0x04, 0x06, 
             0x9c, 0x30, 0x74, 0xf0, 0x14, 0xf0, 0x0c, 0xe0, 0x38, 0xe0, 0x50, 0xc0, 0x50, 0xc0, 0x50, 0xc0, 
             0x48, 0x58, 0x08, 0x78, 0x08, 0x18, 0x18, 0x18, 0x10, 0x30, 0x20, 0x60, 0x20, 0x60, 0x20, 0x60, 
             0x15, 0x03, 0x18, 0x06, 0x29, 0x07, 0x20, 0x07, 0x28, 0x0f, 0x28, 0x0f, 0x14, 0x07, 0x0a, 0x03, 
             0x08, 0x09, 0x0d, 0x01, 0x10, 0x11, 0x18, 0x18, 0x10, 0x18, 0x10, 0x18, 0x08, 0x0c, 0x04, 0x06, 
             0x68, 0xa0, 0x28, 0xc0, 0x34, 0xd0, 0x14, 0xd0, 0x14, 0xf0, 0x14, 0xf0, 0x28, 0xe0, 0x50, 0xc0, 
             0x10, 0x30, 0x70, 0x10, 0x08, 0x18, 0x28, 0x38, 0x08, 0x18, 0x08, 0x18, 0x10, 0x30, 0x20, 0x60, 
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
             0x0a, 0x03, 0x0a, 0x03, 0x1c, 0x07, 0x14, 0x07, 0x14, 0x07, 0x1c, 0x07, 0x0a, 0x03, 0x0a, 0x03,
             0x04, 0x06, 0x04, 0x06, 0x08, 0x0c, 0x08, 0x0c, 0x08, 0x0c, 0x08, 0x0c, 0x04, 0x06, 0x04, 0x06,
             0x50, 0xc0, 0x70, 0xc0, 0xa0, 0x80, 0xa0, 0x80, 0xa0, 0x80, 0xa0, 0x80, 0x70, 0xc0, 0x50, 0xc0,
             0x20, 0x60, 0x20, 0x60, 0x40, 0xc0, 0x40, 0xc0, 0x40, 0xc0, 0x40, 0xc0, 0x20, 0x60, 0x20, 0x60, 
             0x03, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
             0x01, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
             0x40, 0x7f, 0xcf, 0x0f, 0x78, 0x00, 0x0f, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
             0x80, 0xc0, 0x70, 0x7f, 0x0f, 0x0f, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
             0x01, 0xfe, 0xe2, 0xfe, 0x12, 0x1f, 0xf7, 0x07, 0x19, 0x00, 0x0f, 0x00, 0x00, 0x00, 0x00, 0x00, 
             0x00, 0x00, 0x01, 0xe3, 0xe0, 0xf2, 0x18, 0x1f, 0x0f, 0x0f, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
             0xa8, 0x60, 0x50, 0xc0, 0xa8, 0xa0, 0xe8, 0x40, 0x10, 0x00, 0xe0, 0x00, 0x00, 0x00, 0x00, 0x00, 
             0x90, 0x30, 0x20, 0x60, 0x70, 0xd0, 0xf0, 0x90, 0xe0, 0xe0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
             0x0a, 0x03, 0x0a, 0x03, 0x0e, 0x03, 0x05, 0x01, 0x05, 0x01, 0x05, 0x01, 0x05, 0x01, 0x06, 0x03, 
             0x04, 0x06, 0x04, 0x06, 0x04, 0x06, 0x02, 0x03, 0x02, 0x03, 0x02, 0x03, 0x02, 0x03, 0x00, 0x02, 
             0x50, 0xc0, 0x50, 0xc0, 0x50, 0xc0, 0x70, 0xc0, 0x20, 0x80, 0x20, 0x80, 0xe0, 0x80, 0x40, 0x00, 
             0x20, 0x60, 0x20, 0x60, 0x20, 0x60, 0x20, 0x60, 0x40, 0x40, 0x40, 0x40, 0x40, 0xc0, 0x80, 0x80, 
             0x0a, 0x03, 0x0a, 0x03, 0x0a, 0x03, 0x0e, 0x03, 0x04, 0x01, 0x04, 0x01, 0x07, 0x01, 0x02, 0x00, 
             0x04, 0x06, 0x04, 0x06, 0x04, 0x06, 0x04, 0x06, 0x02, 0x02, 0x02, 0x02, 0x02, 0x03, 0x01, 0x01, 
             0x50, 0xc0, 0x50, 0xc0, 0x70, 0xc0, 0xa0, 0x80, 0xa0, 0x80, 0xa0, 0x80, 0xa0, 0x80, 0x60, 0xc0, 
             0x20, 0x60, 0x20, 0x60, 0x20, 0x60, 0x40, 0xc0, 0x40, 0xc0, 0x40, 0xc0, 0x40, 0xc0, 0x00, 0x40, 
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xc3, 0x00, 0x7e, 0x00, 0xc3, 0xc3, 0x3c, 0xff, 
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xc3, 0xc3, 0x3c, 0xff, 0x00, 0x3c, 
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x7c, 0x00, 0xc7, 0x00, 0x7c, 0x7c, 0x83, 0xff, 0x00, 0xff, 
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x7c, 0x7c, 0x83, 0xff, 0x00, 0x83, 0x00, 0x00,
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00, 0x03, 0x00, 
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x01, 
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x0f, 0x00, 0x78, 0x00, 0xcf, 0x0f, 0x40, 0x7f, 
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x0f, 0x0f, 0x70, 0x7f, 0x80, 0xc0, 
             0x00, 0x00, 0x00, 0x00, 0x3c, 0x00, 0x43, 0x00, 0xb6, 0x30, 0x41, 0x7e, 0x80, 0xff, 0x05, 0xfd, 
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x3c, 0x3c, 0x4b, 0x79, 0x82, 0xc0, 0x00, 0x80, 0x02, 0x07, 
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xc0, 0x00, 0xa0, 0x80, 0x50, 0xc0, 0x30, 0xe0, 
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x40, 0xc0, 0x20, 0x60, 0x00, 0x20, 
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
             0x0b, 0x03, 0x08, 0x02, 0x0d, 0x04, 0x0e, 0x04, 0x0e, 0x04, 0x05, 0x00, 0x03, 0x00, 0x00, 0x00, 
             0x04, 0x07, 0x05, 0x05, 0x02, 0x06, 0x00, 0x04, 0x00, 0x04, 0x02, 0x02, 0x00, 0x00, 0x00, 0x00, 
             0xc0, 0x00, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
             0x80, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
             0x03, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
             0x01, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
             0xd0, 0xc0, 0x10, 0x40, 0xb0, 0x20, 0x70, 0x20, 0x70, 0x20, 0xa0, 0x00, 0xc0, 0x00, 0x00, 0x00, 
             0x20, 0xe0, 0xa0, 0xa0, 0x40, 0x60, 0x00, 0x20, 0x00, 0x20, 0x40, 0x40, 0x00, 0x00, 0x00, 0x00, 
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
             0x00, 0xff, 0xc3, 0xff, 0x3c, 0x3c, 0xe7, 0x00, 0x3c, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
             0x00, 0x00, 0x00, 0xc3, 0xc3, 0xff, 0x3c, 0x3c, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
             0x7c, 0xff, 0x83, 0x83, 0xfe, 0x00, 0x83, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
             0x00, 0x7c, 0x7c, 0xff, 0x83, 0x83, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
             0x65, 0x01, 0x59, 0x03, 0x3c, 0x1c, 0x1f, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
             0x02, 0x03, 0x24, 0x25, 0x03, 0x1f, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
             0x78, 0xff, 0x87, 0x87, 0xfc, 0x00, 0x07, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
             0x00, 0x78, 0x78, 0xff, 0x07, 0x07, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
             0x00, 0xff, 0x81, 0xfe, 0x47, 0x71, 0xbc, 0x3c, 0x43, 0x00, 0x3c, 0x00, 0x00, 0x00, 0x00, 0x00, 
             0x00, 0x00, 0x02, 0x80, 0x8a, 0xc9, 0x43, 0x7f, 0x3c, 0x3c, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
             0x70, 0xe0, 0xd0, 0xc0, 0x20, 0x00, 0xc0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
             0x00, 0x60, 0x20, 0xe0, 0xc0, 0xc0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
             0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
            ], 0xFE400);
}